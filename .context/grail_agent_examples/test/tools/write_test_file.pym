from grail import Input, external

content: str = Input("content")
path_value: str = Input("path")


@external
async def write_file(path: str, content: str) -> bool:
    """Write text content to a file."""
    ...


try:
    if not path_value:
        raise ValueError("Test file path is required.")
    await write_file(path=path_value, content=content)
    raw_result = {"success": True, "path": path_value}
    result = {
        "result": raw_result,
        "summary": f"Wrote test file {path_value}",
        "knowledge_delta": {"test_file_written": path_value},
        "outcome": "success",
    }
except Exception as exc:
    result = {
        "result": {"success": False, "error": str(exc)},
        "summary": f"Error: {exc}",
        "knowledge_delta": {},
        "outcome": "error",
        "error": str(exc),
    }

result
